import{a as S}from"./chunk-V7G7N5YJ.js";import{a as y,b as c,c as I,d as k,g as E,i as F,j as L,o as T,q as N}from"./chunk-SPFTHE42.js";import{e as h,g as M,o as O,p as P,r as w}from"./chunk-DOVFX6CJ.js";import{$a as v,Aa as m,Fa as C,Ka as g,Ra as l,Ta as f,Va as n,Wa as t,Xa as s,Y as u,Z as _,ab as p,cb as d,eb as x,lb as b,va as i}from"./chunk-4M3DBIZX.js";import"./chunk-EQDQRRRY.js";var j=()=>["/register"];function G(e,a){e&1&&(n(0,"div"),d(1,"El email es requerido"),t())}function q(e,a){e&1&&(n(0,"div"),d(1,"Email inv\xE1lido"),t())}function B(e,a){if(e&1&&(n(0,"div",21),g(1,G,2,0,"div",16)(2,q,2,0,"div",16),t()),e&2){let r=p();i(),l("ngIf",r.f.email.errors.required),i(),l("ngIf",r.f.email.errors.email)}}function R(e,a){e&1&&(n(0,"div"),d(1,"La contrase\xF1a es requerida"),t())}function A(e,a){if(e&1&&(n(0,"div",21),g(1,R,2,0,"div",16),t()),e&2){let r=p();i(),l("ngIf",r.f.password.errors.required)}}function D(e,a){if(e&1&&(n(0,"div",22),d(1),t()),e&2){let r=p();i(),x(" ",r.error," ")}}function V(e,a){e&1&&(n(0,"span"),d(1,"Iniciar Sesi\xF3n"),t())}function H(e,a){e&1&&s(0,"span",23)}var z=class e{constructor(a,r,o){this.fb=a;this.authService=r;this.router=o}loginForm;submitted=!1;loading=!1;error="";ngOnInit(){this.loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required]]})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.loginForm.invalid)return;this.loading=!0,this.error="";let{email:a,password:r}=this.loginForm.value;this.authService.login(a,r).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/dashboard"])},error:o=>{this.loading=!1,this.error=o?.error?.message||"Credenciales inv\xE1lidas"}})}static \u0275fac=function(r){return new(r||e)(m(T),m(S),m(O))};static \u0275cmp=C({type:e,selectors:[["app-login"]],decls:31,vars:13,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"logo-circle"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M3 3v18h18"],["d","m19 9-5 5-4-4-3 3"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["id","email","type","email","formControlName","email","placeholder","usuario@universidad.edu.pe",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn-login",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],[1,"links-container"],["href","#",1,"forgot-password"],[1,"register-link",3,"routerLink"],[1,"invalid-feedback"],[1,"alert","alert-danger"],[1,"spinner"]],template:function(r,o){r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(),n(4,"svg",4),s(5,"path",5)(6,"path",6),t()(),_(),n(7,"h1"),d(8,"Sistema Bibliom\xE9trico"),t(),n(9,"p"),d(10,"An\xE1lisis Inteligente de Tesis"),t()(),n(11,"form",7),v("ngSubmit",function(){return o.onSubmit()}),n(12,"div",8)(13,"label",9),d(14,"Usuario"),t(),s(15,"input",10),g(16,B,3,2,"div",11),t(),n(17,"div",8)(18,"label",12),d(19,"Contrase\xF1a"),t(),s(20,"input",13),g(21,A,2,1,"div",11),t(),g(22,D,2,1,"div",14),n(23,"button",15),g(24,V,2,0,"span",16)(25,H,1,0,"span",17),t(),n(26,"div",18)(27,"a",19),d(28,"\xBFOlvidaste tu contrase\xF1a?"),t(),n(29,"a",20),d(30,"Crear cuenta"),t()()()()()),r&2&&(i(11),l("formGroup",o.loginForm),i(4),f("is-invalid",o.submitted&&o.f.email.errors),i(),l("ngIf",o.submitted&&o.f.email.errors),i(4),f("is-invalid",o.submitted&&o.f.password.errors),i(),l("ngIf",o.submitted&&o.f.password.errors),i(),l("ngIf",o.error),i(),l("disabled",o.loading),i(),l("ngIf",!o.loading),i(),l("ngIf",o.loading),i(4),l("routerLink",b(12,j)))},dependencies:[M,h,N,E,y,I,k,F,L,w,P],styles:[".login-form[_ngcontent-%COMP%]   .links-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:16px;padding-top:16px;border-top:1px solid #e2e8f0}.login-form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-size:14px}[_ngcontent-%COMP%]:is(.login-form .forgot-password,.login-form .register-link):hover{text-decoration:underline}.login-form[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{font-weight:600}.login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:40px;width:100%;max-width:450px;box-shadow:0 20px 60px #0000004d}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.login-header[_ngcontent-%COMP%]   .logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px}.login-header[_ngcontent-%COMP%]   .logo-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#2d3748;margin-bottom:8px}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:14px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#2d3748;margin-bottom:8px;font-size:14px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:14px;transition:all .3s}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#f56565}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:#f56565;font-size:12px;margin-top:4px}.login-form[_ngcontent-%COMP%]   .alert-danger[_ngcontent-%COMP%]{background-color:#fed7d7;color:#c53030;padding:12px;border-radius:8px;margin-bottom:20px;font-size:14px}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 20px #667eea4d}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.login-form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{display:block;text-align:center;margin-top:16px;color:#667eea;text-decoration:none;font-size:14px}.login-form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};export{z as LoginComponent};
